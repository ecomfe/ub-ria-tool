// 为管家定制的百度统计代码，添加了`_setReferrerOverride`方法可修改referrer
(function(){var c={id:"e11f12430782bff9553b65f2be26d907",dm:["adm.baidu.com"],etrk:[],js:"tongji.baidu.com/hm-web/js/",icon:'',br:false,ctrk:false,align:-1,nv:-1,vdur:1800000,age:31536000000,se:[[1,'baidu.com','word|wd',1,'news,tieba,zhidao,mp3,image,video,hi,baike,wenku,open,jingyan'],[2,'google.com','q',0,'tbm=isch,tbm=vid,tbm=nws|source=newssearch,tbm=blg'],[3,'google.cn','q',0,''],[4,'sogou.com','query',1,'news,mp3,pic,v,zhishi,blogsearch'],[5,'zhongsou.com','w',1,'p,z,gouwu,bbs,mp3'],[6,'search.yahoo.com','p',1,'news,images,video'],[7,'one.cn.yahoo.com','p',1,'news,image,music'],[8,'soso.com','w',1,'image,video,music,sobar,wenwen,news,life,baike,blog'],[9,'114search.118114.cn','kw',0,''],[10,'search.live.com','q',0,''],[11,'youdao.com','q',1,'image,news,gouwu,mp3,video,blog,reader'],[12,'gougou.com','search',1,'movie,mp3,book,soft,game'],[13,'bing.com','q',2,'images,videos,news']]};
var g=true,i=null,j=false;var k=/msie (\d+\.\d+)/i.test(navigator.userAgent),l=navigator.cookieEnabled,m=navigator.javaEnabled(),o=navigator.language||navigator.browserLanguage||navigator.systemLanguage||navigator.userLanguage||"",p=window.screen.width+"x"+window.screen.height,q=window.screen.colorDepth;function r(a,b,d){a.attachEvent?a.attachEvent("on"+b,function(b){d.call(a,b)}):a.addEventListener&&a.addEventListener(b,d,j)};var s;function t(){if(!s)try{s=document.createElement("input"),s.type="hidden",s.style.display="none",s.addBehavior("#default#userData"),document.getElementsByTagName("head")[0].appendChild(s)}catch(a){return j}return g};function u(a,b){if(window.sessionStorage)try{window.sessionStorage.setItem(a,b)}catch(d){}}function v(a){return window.sessionStorage?window.sessionStorage.getItem(a):i};function w(a,b){var d=new Image,e="mini_tangram_log_"+Math.floor(Math.random()*2147483648).toString(36);window[e]=d;d.onload=d.onerror=d.onabort=function(){d.onload=d.onerror=d.onabort=i;d=window[e]=i;b&&b(a)};d.src=a};function x(a,b){var d=a.match(RegExp("(^|&|\\?|#)("+b+")=([^&#]*)(&|$|#)",""));return d?d[3]:i}function y(a){var b;return(b=(a=a.match(/^(https?:\/\/)?([^\/\?#]*)/))?a[2].replace(/.*@/,""):i,a=b)?a.replace(/:\d+$/,""):a};var z=["cpro.baidu.com"],A=0,B=(new Date).getTime(),C=window.location.protocol,D="cc,cf,ci,ck,cl,cm,cp,cw,ds,ep,et,fl,ja,ln,lo,lt,nv,rnd,sb,se,si,st,su,sw,sse,v,u".split(",");function E(){if(typeof window["_bdhm_loaded_"+c.id]=="undefined")window["_bdhm_loaded_"+c.id]=g,this.a={},this.b=[],this.k={},this.l=j,this.D()}
E.prototype={B:function(){var a="";try{external.twGetVersion(external.twGetSecurityID(window))&&external.twGetRunPath.toLowerCase().indexOf("360se")>-1&&(a=17)}catch(b){}return a},g:function(a,b){var a=a.replace(/:\d+/,""),b=b.replace(/:\d+/,""),d=a.indexOf(b);return d>-1&&d+b.length==a.length},m:function(a,b){a=a.replace(/^https?:\/\//,"");return a.indexOf(b)==0},d:function(a){for(var b=0;b<c.dm.length;b++)if(c.dm[b].indexOf("/")>-1){if(this.m(a,c.dm[b]))return g}else{var d=y(a);if(d&&this.g(d,c.dm[b]))return g}return j},
z:function(){for(var a=window.location.hostname,b=0,d=c.dm.length;b<d;b++)if(this.g(a,c.dm[b]))return c.dm[b].replace(/(:\d+)?[\/\?#].*/,"");return a},A:function(){for(var a=0,b=c.dm.length;a<b;a++){var d=c.dm[a];if(d.indexOf("/")>-1&&this.m(window.location.href,d))return d.replace(/^[^\/]+(\/.*)/,"$2")+"/"}return"/"},C:function(){if(document.referrer)for(var a=function(a){for(var b=0,d=a[3]==2?a[1]+"/":"",e=a[3]==1?"."+a[1]:"",a=a[4].split(","),f=0,I=a.length;f<I;f++)if(a[f]!==""&&RegExp(d+a[f]+
e).test(document.referrer)){b=f+1;break}return b},b=function(a){if(/google.(com|cn)/.test(document.referrer)&&/(%25[0-9a-fA-F]{2}){2}/.test(a))try{a=decodeURIComponent(a)}catch(b){}if(/sogou.com/.test(document.referrer)&&/%u[0-9a-fA-F]{4}/.test(a))try{a=unescape(a)}catch(d){}for(var e=0,f=z.length;e<f;e++)document.referrer.indexOf(z[e])>-1&&(a="");return a},d=0,e=c.se.length;d<e;d++){if(RegExp(c.se[d][1]).test(document.referrer)){var f=x(document.referrer,c.se[d][2]);if(f)return this.a.se=c.se[d][0],
this.a.sse=a(c.se[d]),this.a.sw=b(f),2}}else return B-A>c.vdur?1:4;a=j;return(a=this.d(document.referrer)&&this.d(window.location.href)?g:this.g(y(document.referrer)||"",window.location.hostname))?B-A>c.vdur?1:4:3},getData:function(a){try{var b,d=RegExp("(^| )"+a+"=([^;]*)(;|$)").exec(document.cookie);if(!(b=d?d[2]:i)){var e;if(!(e=v(a)))a:{if(window.localStorage){var f=window.localStorage.getItem(a);if(f){var h=f.indexOf("|"),n=f.substring(0,h)-0;if(n&&n<(new Date).getTime()){e=f.substring(h+1);
break a}}}else if(t()){s.load(window.location.hostname);e=s.getAttribute(a);break a}e=i}b=e}return b}catch(H){}},setData:function(a,b,d){try{var e=this.z(),f=this.A(),h;d&&(h=new Date,h.setTime(h.getTime()+d));document.cookie=a+"="+b+(e?"; domain="+e:"")+(f?"; path="+f:"")+(h?"; expires="+h.toGMTString():"")+"";if(d){var n=new Date;n.setTime(n.getTime()+d||31536E6);if(window.localStorage){b=n.getTime()+"|"+b;try{window.localStorage.setItem(a,b)}catch(H){}}else if(t())s.expires=n.toUTCString(),s.load(window.location.hostname),
s.setAttribute(a,b),s.save(window.location.hostname)}else u(a,b)}catch(N){}},H:function(){var a,b,d,e;A=this.getData("Hm_lpvt_"+c.id)||0;b=this.C();a=b!=4?1:0;d=(d=this.getData("Hm_lvt_"+c.id))?Math.round((d-0)/1E3):"";this.setData("Hm_lvt_"+c.id,B,c.age);this.setData("Hm_lpvt_"+c.id,B);e=B==this.getData("Hm_lpvt_"+c.id)?"1":"0";if(c.nv==0&&this.d(window.location.href)&&(document.referrer==""||this.d(document.referrer)))a=0,b=4;this.a.nv=a;this.a.st=b;this.a.cc=e;this.a.lt=d},q:function(){for(var a=
[],b=0,d=D.length;b<d;b++){var e=D[b],f=this.a[e];typeof f!="undefined"&&f!==""&&a.push(e+"="+encodeURIComponent(f))}return a.join("&")},I:function(){this.H();this.a.si=c.id;this.a.su=document.referrer;this.a.ds=p;this.a.cl=q+"-bit";this.a.ln=o;this.a.ja=m?1:0;this.a.ck=l?1:0;this.a.lo=typeof _bdhm_top=="number"?1:0;var a=this.a,b="";if(navigator.plugins&&navigator.mimeTypes.length){var d=navigator.plugins["Shockwave Flash"];d&&d.description&&(b=d.description.replace(/^.*\s+(\S+)\s+\S+$/,"$1"))}else if(window.ActiveXObject)try{if(d=
new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))(b=d.GetVariable("$version"))&&(b=b.replace(/^.*\s+(\d+),(\d+).*$/,"$1.$2"))}catch(e){}a.fl=b;this.a.sb=this.B();this.a.v="1.0.21";a=window.location.href;this.a.cm=x(a,"hmmd")||"";this.a.cp=x(a,"hmpl")||"";this.a.cw=x(a,"hmkw")||"";this.a.ci=x(a,"hmci")||"";this.a.cf=x(a,"hmsr")||"";this.a.et=0;this.a.ep=""},D:function(){var a=this;try{a.I(),a.a.nv==0?a.G():a.h(".*"),a.c(),a.r(),a.t(),a.j&&a.j(),a.i&&a.i(),a.f=new F,r(window,"beforeunload",a.F()),
a.w(),window._hmt=a.k,a.k.push=function(){a.p.apply(a,arguments)}}catch(b){var d=[];d.push("si="+c.id);d.push("n="+encodeURIComponent(b.name));d.push("m="+encodeURIComponent(b.message));d.push("r="+encodeURIComponent(document.referrer));w(C+"//hm.baidu.com/hm.gif?"+d.join("&"))}},F:function(){var a=this;return function(){a.a.et=3;a.a.ep=(new Date).getTime()-a.f.n+","+((new Date).getTime()-a.f.e+a.f.o);a.c()}},c:function(){var a=this;a.a.rnd=Math.round(Math.random()*2147483647);var b=C+"//hm.baidu.com/hm.gif?"+
a.q();a.a.u?w(b):(a.s(b),w(b,function(b){a.h(b)}))},r:function(){if(c.icon!=""){var a,b=c.icon.split("|"),d="http://tongji.baidu.com/hm-web/welcome/ico?s="+c.id;a=(C=="http:"?"http://eiv":"https://bs")+".baidu.com"+b[0]+"."+b[1];switch(b[1]){case "swf":var e=b[2],b=b[3],d="s="+d,f="HolmesIcon"+B;a='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="'+f+'" width="'+e+'" height="'+b+'"><param name="movie" value="'+a+'" /><param name="flashvars" value="'+d+'" /><param name="allowscriptaccess" value="always" /><embed type="application/x-shockwave-flash" name="'+
f+'" width="'+e+'" height="'+b+'" src="'+a+'" flashvars="'+d+'" allowscriptaccess="always" /></object>';break;case "gif":a='<a href="'+d+'" target="_blank"><img border="0" src="'+a+'" width="'+b[2]+'" height="'+b[3]+'"></a>';break;default:a='<a href="'+d+'" target="_blank">'+b[0]+"</a>"}document.write(a)}},t:function(){var a=window.location.hash.substring(1),b=RegExp(c.id),d=document.referrer.indexOf("baidu.com")>-1?g:j;a&&b.test(a)&&d&&(b=document.createElement("script"),b.setAttribute("type","text/javascript"),
b.setAttribute("src",C+"//"+c.js+x(a,"jn")+"."+x(a,"sx")+"?"+this.a.rnd),a=document.getElementsByTagName("script")[0],a.parentNode.insertBefore(b,a))},p:function(a){if(a.length&&a.length>1)switch(a[0]){case "_trackPageview":if(a[1].charAt&&a[1].charAt(0)=="/"){this.a.et=0;this.a.ep="";var b=this.a.u,d=this.a.su;this.a.u=C+"//"+window.location.host+a[1];if(!this.l)this.a.su=window.location.href;this.c();this.a.u=b;this.a.su=d}break;case "_setReferrerOverride":this.a.su=a[1].charAt&&a[1].charAt(0)==
"/"?C+"//"+window.location.host+a[1]:a[1],this.l=g}},w:function(){var a=window._hmt;if(a&&a.length&&a.shift)for(;a.length>0;)this.p(a.shift())},s:function(a){var b=v("Hm_unsent_"+c.id)||"",b=encodeURIComponent(a+"&u="+encodeURIComponent(window.location.href))+(b?","+b:"");u("Hm_unsent_"+c.id,b)},h:function(a){var b=v("Hm_unsent_"+c.id)||"";b&&((b=b.replace(RegExp(encodeURIComponent(a)+"(%26u%3D[^,]*)?,?","g"),"").replace(/,$/,""))?u("Hm_unsent_"+c.id,b):(a="Hm_unsent_"+c.id,window.sessionStorage&&
window.sessionStorage.removeItem(a)))},G:function(){var a=this,b=v("Hm_unsent_"+c.id);if(b)for(var b=b.split(","),d=0,e=b.length;d<e;d++)w(decodeURIComponent(b[d]),function(b){a.h(b)})}};E.prototype.j=function(){r(document,"click",G(this));for(var a=c.etrk.length,b=0;b<a;b++){var d=c.etrk[b],e=document.getElementById(d.id);e&&r(e,d.eventType,J(this))}};
function J(a){return function(b){(b.target||b.srcElement).setAttribute("HM_fix",b.clientX+":"+b.clientY);a.a.et=1;a.a.ep="{id:"+this.id+",eventType:"+b.type+"}";a.c()}}
function G(a){return function(b){var d=b.target||b.srcElement,e=d.getAttribute("HM_fix"),f=b.clientX+":"+b.clientY;if(e&&e==f)d.removeAttribute("HM_fix");else if(e=c.etrk.length,e>0){for(f={};d&&d!=document.body;)d.id&&(f[d.id]=""),d=d.parentNode;for(d=0;d<e;d++){var h=c.etrk[d];if(f.hasOwnProperty(h.id))a.a.et=1,a.a.ep="{id:"+h.id+",eventType:"+b.type+"}",a.c()}}}}
E.prototype.i=function(){var a=this;c.ctrk&&(r(document,"mouseup",K(this)),r(window,"beforeunload",function(){L(a)}),setInterval(function(){L(a)},6E5))};
function K(a){return function(b){var d,e;k?(e=Math.max(document.documentElement.scrollTop,document.body.scrollTop),d=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft),d=b.clientX+d,e=b.clientY+e):(d=b.pageX,e=b.pageY);var f=window.innerWidth||document.documentElement.clientWidth||document.body.offsetWidth;switch(c.align){case 1:d-=f/2;break;case 2:d-=f}d="{x:"+d+",y:"+e+",";b=b.target||b.srcElement;if(b.tagName.toLowerCase()!="a")a:{for(e="A";(b=b.parentNode)&&b.nodeType==1;)if(b.tagName==
e)break a;b=i}d+=b?"t:a,u:"+encodeURIComponent(b.href)+"}":"t:b}";b=d;if(""!=b)d=(C+"//hm.baidu.com/hm.gif?"+a.q().replace(/ep=[^&]*/,"ep="+encodeURIComponent("["+b+"]"))).length,d+10>1024||(d+encodeURIComponent(a.b.join(",")+(a.b.length?",":"")).length+10>1024&&L(a),a.b.push(b),(a.b.length>=10||/t:a/.test(b))&&L(a))}}function L(a){if(a.b.length!=0)a.a.et=2,a.a.ep="["+a.b.join(",")+"]",a.c(),a.b=[]}
function F(){this.e=this.n=(new Date).getTime();this.o=0;typeof document.J=="object"?(r(document,"focusin",M(this)),r(document,"focusout",M(this))):(r(window,"focus",M(this)),r(window,"blur",M(this)))}function M(a){return function(b){if(!(b.target&&b.target!=window)){if(b.type=="blur"||b.type=="focusout")a.o+=(new Date).getTime()-a.e;a.e=(new Date).getTime()}}}new E;})();